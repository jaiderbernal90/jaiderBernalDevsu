<section class="content__add-products">
  <app-card [classList]="'mt-24 card-white'">
    <div class="card__title" title>
      <h1 class="title--card"> Formulario de registro</h1>
    </div>
    <div class="card__body" body>
      <form [formGroup]="form" (ngSubmit)="onSubmit()" class="grid__form">
        <div class="form__group">
          <label for="id">ID</label>
          <input type="number" formControlName="id" id="id" minlength="3" maxlength="10" [ngClass]="{'invalid': form.get('id')?.invalid && (form.get('id')?.dirty || form.get('id')?.touched)}" />
          @if(form.get('id')?.touched && form.get('id')?.invalid){
          <div class="alert">
            @if(form.get('id')?.errors?.['required']){
            <span>El ID es requerido.</span>
            }
            @if(form.get('id')?.errors?.['min']){
            <span>El ID debe tener al menos 3 caracteres.</span>
            }
            @if(form.get('id')?.errors?.['max']){
            <span>El ID debe tener menos 10 caracteres.</span>
            }
          </div>
          }
        </div>

        <div class="form__group">
          <label for="name">Nombre</label>
          <input type="text" formControlName="name" id="name" minlength="5" maxlength="100"
            [ngClass]="{'invalid': form.get('name')?.invalid && (form.get('name')?.dirty|| form.get('name')?.touched)}" />
          @if(form.get('name')?.touched && form.get('name')?.invalid){
          <div class="alert">
            @if(form.get('name')?.errors?.['required']){
            <span>El nombre es requerido.</span>
            }
            @if(form.get('name')?.errors?.['minlength']){
            <span>El nombre debe tener al menos 3 caracteres.</span>
            }
          </div>
          }
        </div>
        <div class="form__group">
          <label for="description">Descipción</label>
          <input type="text" formControlName="description" id="id" minlength="10" maxlength="200"
            [ngClass]="{'invalid': form.get('description')?.invalid && (form.get('description')?.dirty || form.get('description')?.touched)}" />
          @if(form.get('description')?.touched &&
          form.get('description')?.invalid){
          <div class="alert">
            @if(form.get('description')?.errors?.['required']){
            <span>La descripción es requerida.</span>
            }
            @if(form.get('description')?.errors?.['minlength']){
            <span>La descripción nombre debe tener al menos 10
              caracteres.</span>
            }
          </div>
          }
        </div>
        <div class="form__group">
          <label for="logo">Logo</label>
          <input type="text" formControlName="logo" id="logo" [ngClass]="{
            'invalid': form.get('logo')?.invalid && (form.get('logo')?.dirty || form.get('logo')?.touched)
          }" />
          @if(form.get('logo')?.touched && form.get('logo')?.invalid){
          <div class="alert">
            @if(form.get('logo')?.errors?.['required']){
            <span>El logo es requerido.</span>
            }
          </div>
          }
        </div>
        <div class="form__group">
          <label for="date_release">Fecha Libreración</label>
          <input type="date" formControlName="date_release" id="date_release" minlength="5" maxlength="200" [ngClass]="{
              'invalid': form.get('date_release')?.invalid && (form.get('date_release')?.dirty || form.get('date_release')?.touched)
            }" (change)="handleChangeDateRelease($event)" />
          @if(form.get('date_release')?.touched &&
          form.get('date_release')?.invalid){
          <div class="alert">
            @if(form.get('date_release')?.errors?.['required']){
            <span>La fecha libreación es requerida.</span>
            }
          </div>
          }
        </div>
        <div class="form__group">
          <label for="date_revision">Fecha revisión</label>
          <input type="date" formControlName="date_revision" id="date_revision" readonly />
        </div>
        <div class="form__group-actions col-span-2 flex justify-center mt-48">
          <button type="button" class="btn-secondary" (click)="handleResetForm()">Reiniciar</button>
          <button type="submit" class="btn-primary" [disabled]="form.invalid">Enviar</button>
        </div>
      </form>
    </div>
  </app-card>
</section>
